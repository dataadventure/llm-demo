<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typed.js 无光标+段落保留 Demo</title>
    <script src="https://cdn.jsdelivr.net/npm/typed.js@2.1.0/dist/typed.umd.min.js"></script>
    <style>
        body {
            font-family: "Microsoft YaHei", sans-serif;
            padding: 50px;
            background-color: #f5f5f5;
        }
        .typed-wrapper {
            font-size: 24px;
            color: #333;
            padding: 30px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            line-height: 2;
        }
        /* 段落样式：区分每段，更清晰 */
        .text-segment {
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <!-- 外层容器：所有段落追加到这里 -->
    <div class="typed-wrapper" id="total-container"></div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 要依次显示的文字
            const textsToType = [
                "第一段：无光标，打完保留",
                "第二段：支持手动换行\n比如这样分段显示",
                "第三段：所有段落都没有光标",
                "第四段：完全符合预期效果～"
            ];

            const totalContainer = document.getElementById('total-container');

            // 逐段打印函数
            function typeNextSegment(index = 0) {
                if (index >= textsToType.length) return;

                const currentText = textsToType[index];
                const segmentId = `segment-${index}`;

                // 1. 关键修改：不创建光标元素！只保留文字显示容器
                const segmentContainer = document.createElement('div');
                segmentContainer.className = 'text-segment';
                segmentContainer.innerHTML = `<span id="${segmentId}"></span>`; // 只有文字容器，无光标
                totalContainer.appendChild(segmentContainer);

                // 2. 关键配置：showCursor: false 关闭 typed.js 自带光标
                new Typed(`#${segmentId}`, {
                    strings: [currentText],
                    typeSpeed: 80,
                    startDelay: 500,
                    showCursor: false, // 关闭默认光标（核心）
                    onComplete: function() {
                        // 打印下一段
                        typeNextSegment(index + 1);
                    }
                });
            }

            // 启动打印
            typeNextSegment();
        });
    </script>
</body>
</html>